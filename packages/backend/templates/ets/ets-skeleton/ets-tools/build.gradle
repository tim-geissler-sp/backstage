jar {
	manifest {
		attributes(
			'Main-Class': 'com.sailpoint.ets.tools.triggers.TriggerSpecDriver'
		)
	}

	from provider {
		zipTree(configurations.compileClasspath.filter {
			it.name == 'gson-2.8.6.jar'
		}.getAsPath())
	}
}

version 'unspecified'

dependencies {
	testImplementation('junit:junit:4.12')
	implementation("com.google.code.gson:gson:2.8.6")
}

test.doFirst {
	systemProperty "java.library.path", 'build/libs'
}

task generateTriggerSpec(type: JavaExec) {
	println 'generating trigger specs'
	classpath = files('build/libs/ets-tools.jar')
}
